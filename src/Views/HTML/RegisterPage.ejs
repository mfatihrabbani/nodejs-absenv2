<!DOCTYPE html>
<head>
	<title><%= title %></title>
</head>

<body>

	<form>
		<label for = "username">Username</label>
		<input type="text" name="username" id="username">
		<label for = "email">Email</label>
		<input type="text" name="email" id="email">
		<label for = "password">Password</label>
		<input type="password" name="password" id="password">
		<label for = "confirmPassword">Password</label>
		<input type="password" name="confirmPassword" id="confirmPassword">
		<button onclick="login()" type="button">Submit</button>
	</form>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script type="text/javascript">

	const BASE_URL = "http://localhost:3000"


	async function login(){
		
		const username = document.getElementById("username").value;
		const email= document.getElementById("email").value;
		const password = document.getElementById("password").value;
		const confirmPassword = document.getElementById("confirmPassword").value;

		const data = {
			username,
			email,
			password,
			confirmPassword
		}

		console.log(data)

		try{
			const response = await axios.post(`${BASE_URL}/api/users/signup`, data)

			if(response.status == 200) window.location.href = `${BASE_URL}/login`;

		}catch(err){
			console.log(err)
		}

}

</script>
</body>

</html>